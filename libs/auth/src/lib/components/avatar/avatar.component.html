<div class="position-relative" style="width: 5rem; height: 5rem">
  <label style="list-style: none" for="avatar-menu">
    <img
      style="width: 5rem; height: 5rem"
      class="rounded-circle"
      aria-label="avatar-user-menu"
      data-test="avatar-img"
      [src]="imgSrc$ | async"
      [alt]="imgAlt$ | async"
    />
  </label>
  <input type="checkbox" id="avatar-menu" class="d-none" ngbsUncheckOnDocumentClick>
  <menu
    class="d-none position-absolute bg-light"
    style="width: 10rem"
    *ngIf="user$ | async as user; else loggedOutMenu"
  >
    <li>
      <a
        routerLink="/auth/settings"
        data-test="avatar-link-settings"
        (click)="clickSettings$.next({ event: $event })"
        >Settings</a
      >
    </li>
    <li>
      <a
        (click)="clickLogOut$.next({ event: $event })"
        data-test="avatar-link-log-out"
        >Log Out</a
      >
    </li>
  </menu>

  <ng-template #loggedOutMenu>
    <menu class="position-absolute bg-light" style="width: 10rem">
      <li>
        <a
          routerLink="/auth/sign-up"
          data-test="avatar-link-sign-up"
          (click)="clickSignUp$.next({ event: $event })"
          >Sign Up</a
        >
      </li>
      <li>
        <a
          routerLink="/auth/log-in"
          data-test="avatar-link-log-in"
          (click)="clickLogIn$.next({ event: $event })"
          >Log In</a
        >
      </li>
    </menu>
  </ng-template>
</div>
